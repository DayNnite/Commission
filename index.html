<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Weekly Commission Report</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
  </style>
</head>
<body>
<script>
  // Get name
  var username = prompt("Enter your name for the report:", "Salesperson");
  if (username.trim() === "") username = "Salesperson";

  // Posttest loop with 'Done' sentinel
  var subtotal = 0, raw, val;
  do {
    raw = prompt("Enter the dollar amount for your sales a single sale at a time.  Enter Done when you are finished.");
    if (!/^done$/i.test(raw.trim())) {
      val = parseFloat(raw);
      if (!isNaN(val) && val >= 0) subtotal += val;
      else alert("Please enter a non-negative number (e.g., 123.45) or type Done.");
    }
  } while (!/^done$/i.test(raw.trim()));

  // Determine commission rate
  var rate = 0;
  if (subtotal <= 0)       rate = 0.00;
  else if (subtotal < 500) rate = 0.05;
  else if (subtotal < 1000)rate = 0.10;
  else                     rate = 0.15;

  // Calculate totals
  var commission = subtotal * rate;
  var total = subtotal + commission;
  if (subtotal === 0) { rate = 0; commission = 0; total = 0; }

  // Format values
  var money = { style: 'currency', currency: 'USD' };
  var subtotalUSD = subtotal.toLocaleString('en-US', money);
  var commissionUSD = commission.toLocaleString('en-US', money);
  var totalUSD = total.toLocaleString('en-US', money);
  var ratePct = (rate * 100).toFixed(2) + "%";

  // One output statement
  document.write(
    "<h1>Hello " + username + ", Here is your Weekly Commission Report.</h1>" +
    "<p>Your sales total is " + subtotalUSD + ", so your commission rate is " + ratePct + "</p>" +
    "<p>Your total commission is " + commissionUSD + ".</p>" +
    "<p>Your total earnings are " + totalUSD + "</p>" +
    "<p><small>Do not forget to upload the required design sketches of the application logic. (jpg, gif, png, svg only)</small></p>"
  );
</script>
</body>
</html>
